import React, { useState } from 'react';
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';
import { Badge } from '@/components/ui/badge';
import { Separator } from '@/components/ui/separator';
import { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';
import { Alert, AlertDescription } from '@/components/ui/alert';
import { Avatar, AvatarFallback } from '@/components/ui/avatar';
import { Input } from '@/components/ui/input';
import { Textarea } from '@/components/ui/textarea';
import { Button } from '@/components/ui/button';
import { Progress } from '@/components/ui/progress';
import { 
  TrendingUp, 
  DollarSign, 
  Users, 
  Shield, 
  Lock,
  Target,
  Database,
  CheckCircle,
  Clock,
  ArrowRight,
  Building,
  UserPlus,
  Award,
  BarChart3,
  FileText,
  Calculator,
  AlertCircle
} from 'lucide-react';

const GovScopeAnalyticalLanding = () => {
  const [selectedCounty, setSelectedCounty] = useState('clackamas');
  const [companyType, setCompanyType] = useState('');
  const [useCase, setUseCase] = useState('');

  const sampleCounties = {
    clackamas: {
      name: "Clackamas County, OR",
      financialHealth: 96.25,
      revenue: "$815.1M",
      employees: "2,406",
      marketTier: "Premium",
      coordinates: { x: 45, y: 35 },
      vendorBudget: "$365.4M",
      operatingMargin: "21.2%",
      revenueGrowth: "12.2%",
      debtRatio: "0.56",
      confidence: "90-95%",
      premiumWorkforce: "73.3%",
      techBudgetPerEmployee: "$38,000"
    },
    king: {
      name: "King County, WA", 
      financialHealth: 88.7,
      revenue: "$2.1B",
      employees: "14,500",
      marketTier: "Premium",
      coordinates: { x: 42, y: 28 },
      vendorBudget: "$892M",
      operatingMargin: "18.4%",
      revenueGrowth: "9.1%",
      debtRatio: "0.73",
      confidence: "90-95%",
      premiumWorkforce: "68.1%",
      techBudgetPerEmployee: "$42,000"
    },
    alameda: {
      name: "Alameda County, CA",
      financialHealth: 91.2,
      revenue: "$1.8B", 
      employees: "9,200",
      marketTier: "Premium",
      coordinates: { x: 25, y: 55 },
      vendorBudget: "$634M",
      operatingMargin: "19.8%",
      revenueGrowth: "10.7%",
      debtRatio: "0.62",
      confidence: "90-95%",
      premiumWorkforce: "71.2%",
      techBudgetPerEmployee: "$41,500"
    }
  };

  const getDemoFocus = () => {
    if (companyType === 'technology' && useCase === 'lead-qualification') {
      return {
        title: "Financial Health & Implementation Readiness Analysis",
        description: "Deep-dive into CAFR-based financial scoring and workforce sophistication indicators that predict technology adoption success",
        metrics: ["Operating Margin Trend Analysis", "Administrative Capacity Index", "Technology Budget per Employee"]
      };
    }
    if (companyType === 'professional-services' && useCase === 'market-sizing') {
      return {
        title: "Workforce Analysis & Budget Capacity Methodology", 
        description: "Comprehensive workforce sophistication analysis and precise budget capacity calculations using audited expenditure data",
        metrics: ["Premium Workforce Assessment", "Non-Personnel Budget Analysis", "Professional Services Market Sizing"]
      };
    }
    if (companyType === 'infrastructure' && useCase === 'territory-planning') {
      return {
        title: "Capital Project Intelligence & Geographic Analysis",
        description: "Infrastructure spending pattern analysis and debt capacity assessment for capital project timing",
        metrics: ["Debt-to-Revenue Analysis", "Capital Infrastructure Budget", "Multi-Year Project Pipeline"]
      };
    }
    return {
      title: "Comprehensive Financial Intelligence Methodology",
      description: "Full analytical framework covering financial health scoring, budget capacity analysis, and market opportunity assessment",
      metrics: ["Composite Financial Health Score", "Budget Capacity Analysis", "Market Tier Classification"]
    };
  };

  const currentCounty = sampleCounties[selectedCounty];
  const demoFocus = getDemoFocus();

  return (
    <div className="min-h-screen bg-slate-900 text-slate-100">
      {/* HEADER, HERO, CONTENT, TABS, FORM, etc... */}
      {/* ... your original content ... */}

      {/* Team Preview */}
      <div className="bg-slate-800 rounded-lg border border-slate-700 p-8 mt-16">
        <h3 className="text-2xl font-bold text-slate-100 mb-6 text-center">Intelligence Briefing Team</h3>
        <div className="flex justify-center space-x-8">
          <div className="text-center">
            <Avatar className="w-16 h-16 mx-auto mb-3 border-2 border-slate-600">
              <AvatarFallback className="bg-slate-700 text-slate-300 font-semibold">JW</AvatarFallback>
            </Avatar>
            <div className="text-sm font-medium text-slate-200">Jonah Walker</div>
            <div className="text-xs text-slate-400">Product & Analytics</div>
            <div className="text-xs text-slate-500 mt-1">Technical implementation & data science</div>
          </div>

          <div className="text-center">
            <Avatar className="w-16 h-16 mx-auto mb-3 border-2 border-slate-600">
              <AvatarFallback className="bg-slate-700 text-slate-300 font-semibold">EK</AvatarFallback>
            </Avatar>
            <div className="text-sm font-medium text-slate-200">Evan Kersten</div>
            <div className="text-xs text-slate-400">President</div>
            <div className="text-xs text-slate-500 mt-1">Strategic applications & methodology</div>
          </div>
        </div>

        <Alert className="bg-slate-700 border-slate-600 max-w-3xl mx-auto mt-8">
          <FileText className="h-4 w-4 text-slate-400" />
          <AlertDescription className="text-slate-300">
            <strong>Briefing Format:</strong> Technical methodology walkthrough, live data analysis, 
            and customized market intelligence demonstration based on your analytical requirements
          </AlertDescription>
        </Alert>
      </div>
    </div>
  );
};

export default GovScopeAnalyticalLanding;
